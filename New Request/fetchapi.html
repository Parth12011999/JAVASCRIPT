<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Products</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container">
      <button class="btn-primary my-2" onclick="start()" id="mancloth">
        Man's Category Clothing
      </button>
      <div class="row" id="mans"></div>

      <button class="btn-primary my-2" onclick="start()" id="jewellary">
        Jewellary
      </button>
      <div class="row" id="jewel"></div>

      <button class="btn-primary my-2">Electronics</button>
      <div class="row" id="electronic"></div>

      <button class="btn-primary my-2">Woman's Category Clothing</button>
      <div class="row" id="womans"></div>
    </div>
    <!-- JavaScript  -->
    <script>
      let men = document.getElementById("mancloth");
      let jewel = document.getElementById("jewellary");

      function start() {
        fetch("https://fakestoreapi.com/products")
          .then((resp) => {
            return resp.json();
          })
          .then((data) => {
            showData(data);
            console.log(data);
          });
      }
      function showData(data) {
        // let op = data.map((item, index, ent) => {
        //   return item;
        // });

        const filteredOp = data.filter(function (item) {
            if (item.category == "men's clothing") {
                return item;
            }
        })
        let location = document.getElementById("mans");

        for (const i of filteredOp) {
          location.insertAdjacentHTML(
            "afterbegin",
            TodoHtmlCreator(
              i.image,
              i.title,
              i.description,
              i.price,
              i.rating.rate,
              i.category
            )
          );
        }
      }

      function TodoHtmlCreator(
        image,
        title,
        description,
        price,
        rating,
        category
      ) {
        if (category == "men's clothing") {
          return `<div class="col-md-4 col-lg-3 col-sm-6 d-flex my-3">
            <div class="card p-0" style="width: 18rem;">
            <img src="${image}" class="card-img-top w-100" style="height: 50%" alt="...">
            <div class="card-body">
            <h5 class="card-title">${title}</h5>
            <p class="card-text">${description.slice(0, 20)}</p>
            </div>
            <ul class="list-group list-group-flush">
            <li class="list-group-item">Price: ${price}</li>
            <li class="list-group-item">Rating: ${rating.rate}</li>
            </ul>
            <div class="card-body">
                <a href="#" class="btn btn-primary">Buy Now</a>
            </div>
        </div>
        </div>`;
        } else if (category == "jewelery") {
          return `<div class="col-md-4 col-lg-3 col-sm-6 d-flex my-3">
            <div class="card p-0" style="width: 18rem;">
            <img src="${image}" class="card-img-top w-100" style="height: 50%" alt="...">
            <div class="card-body">
            <h5 class="card-title">${title}</h5>
            <p class="card-text">${description.slice(0, 20)}</p>
            </div>
            <ul class="list-group list-group-flush">
            <li class="list-group-item">Price: ${price}</li>
            <li class="list-group-item">Rating: ${rating.rate}</li>
            </ul>
            <div class="card-body">
                <a href="#" class="btn btn-primary">Buy Now</a>
            </div>
        </div>
        </div>`;
        } else if (category == "electronics") {
          return `<div class="col-md-4 col-lg-3 col-sm-6 d-flex my-3">
            <div class="card p-0" style="width: 18rem;">
            <img src="${image}" class="card-img-top w-100" style="height: 50%" alt="...">
            <div class="card-body">
            <h5 class="card-title">${title}</h5>
            <p class="card-text">${description.slice(0, 20)}</p>
            </div>
            <ul class="list-group list-group-flush">
            <li class="list-group-item">Price: ${price}</li>
            <li class="list-group-item">Rating: ${rating.rate}</li>
            </ul>
            <div class="card-body">
                <a href="#" class="btn btn-primary">Buy Now</a>
            </div>
        </div>
        </div>`;
        } else if (category == "women's clothing") {
          return `<div class="col-md-4 col-lg-3 col-sm-6 d-flex my-3">
            <div class="card p-0" style="width: 18rem;">
            <img src="${image}" class="card-img-top w-100" style="height: 50%" alt="...">
            <div class="card-body">
            <h5 class="card-title">${title}</h5>
            <p class="card-text">${description.slice(0, 20)}</p>
            </div>
            <ul class="list-group list-group-flush">
            <li class="list-group-item">Price: ${price}</li>
            <li class="list-group-item">Rating: ${rating.rate}</li>
            </ul>
            <div class="card-body">
                <a href="#" class="btn btn-primary">Buy Now</a>
            </div>
        </div>
        </div>`;
        }
        return `Nothing to show`;
      }
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
